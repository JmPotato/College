{% extends '../layout.html' %}

{% block title %}个人设置 | {% end %}

{% block content %}
<div class="box">
    <header>设置</header>
    <form class="form-horizontal" role="form" method="post" action="#">
        <fieldset>
        {% raw xsrf_form_html() %}
            <div class="form-group">
                <label for="username" class="col-sm-2 control-label">用户名</label>
                <div class="col-sm-8">
                    <input type="text" class="form-control" id="username" name="username" value="{{ current_user['name'] }}" disabled>
                </div>
            </div>
            <div class="form-group">
                <label for="email" class="col-sm-2 control-label">邮箱</label>
                <div class="col-sm-8">
                    <input type="email" class="form-control" id="email" name="email" value="{{ current_user['email'] }}" disabled>
                </div>
            </div>
            <div class="form-group">
                <label for="website" class="col-sm-2 control-label">网站</label>
                <div class="col-sm-8">
                    <input type="text" class="form-control" id="website" name="website" value="{{ current_user['website'] }}">
                </div>
            </div>
            <div class="form-group">
                <label for="description" class="col-sm-2 control-label">简介</label>
                <div class="col-sm-8">
                    <textarea class="form-control" id="description" name="description" rows="10">{{ current_user['description'] }}</textarea>
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                    <button type="submit" class="btn btn-primary">提交</button>
                </div>
            </div>
        </fieldset>
    </form>
</div>
{% end %}

{% block sidebar %}
<div class="box">
    <header>头像</header>
    <form class="form-horizontal" role="form" method="post" action="/account/avatar/remove">
        <fieldset>
        {% raw xsrf_form_html() %}
            <div class="form-group">
                <div class="col-sm-12">
                    <button type="submit" class="btn btn-primary">移除现有头像</button>
                </div>
            </div>
        </fieldset>
    </form>
    <form class="form-horizontal" enctype="multipart/form-data" role="form" method="post" action="/account/avatar">
        <fieldset>
        {% raw xsrf_form_html() %}
            <div class="form-group">
                <label for="avatar_file" class="col-sm-3 control-label">头像文件</label>
                <div class="col-sm-8">
                    <input type="file" name="avatar_file" id="avatar_file">
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-offset-3 col-sm-10">
                    <button type="submit" class="btn btn-primary">上传</button>
                </div>
            </div>
        </fieldset>
    </form>
    <p>你也可以选择去 <a href="http://cn.gravatar.com">Gravatar</a> 更换头像（注册时请使用你在 College 的注册邮箱，如果你在 College 已经上传了头像请先移除现有头像）</p>
</div>
<div class="box">
    <header>密码</header>
    <form class="form-horizontal" role="form" method="post" action="/account/password">
        <fieldset>
        {% raw xsrf_form_html() %}
            <div class="form-group">
                <label for="old_password" class="col-sm-3 control-label">旧密码</label>
                <div class="col-sm-8">
                    <input type="password" class="form-control" id="old_password" name="old_password">
                </div>
            </div>
            <div class="form-group">
                <label for="new_password" class="col-sm-3 control-label">新密码</label>
                <div class="col-sm-8">
                    <input type="password" class="form-control" id="new_password" name="new_password">
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-offset-3 col-sm-10">
                    <button type="submit" class="btn btn-primary">修改</button>
                </div>
            </div>
        </fieldset>
    </form>
</div>
{% end %}